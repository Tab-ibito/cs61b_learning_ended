<!DOCTYPE html>
<html>
<head>
<title>CS61b Learning.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="cs61b-learning">CS61b Learning</h1>
<hr>
<h2 id="background-%E8%83%8C%E6%99%AF%E7%B4%B9%E4%BB%8B">Background 背景紹介</h2>
<p>cs61b相比于同系列cs61a而言：</p>
<ul>
<li>鲜明的<strong>面向对象设计</strong> (OOP)，弱化的函数编程思想（cs61a中的scheme/函数传参/高级函数）</li>
<li>侧重于<strong>结构搭建</strong></li>
<li>代码量变大，<strong>千行数量级</strong></li>
<li>更要考虑实际运行的<strong>时空复杂度</strong></li>
<li>Lab为写<strong>Project</strong>服务</li>
<li>Project<strong>自由度高</strong>，不再是problem导向</li>
<li>算法难度提升，涉及<strong>优化搜索，nlogn排序，哈希，并查集，平衡树，图的最短路径，最小生成树</strong>等</li>
</ul>
<h2 id="personal-thoughts-%E5%80%8B%E4%BA%BA%E7%9A%84%E3%81%AA%E8%80%83%E3%81%88">Personal Thoughts 個人的な考え</h2>
<p>迫于现实压力，Tab抱着<strong>速通</strong>的想法学这个课，最后大概花了10天左右的时间，刷完了全部的Lab和Project。
但客观而言，这绝对是一门值得花很长时间去投入学习的课程。
或者不用「课程」这个词，用「知识」来称呼更加妥当。
如果只是想着写完四个project长一长项目经历的话，可能会和大量的有趣或有用的知识擦肩而过。
一个小小的建议是，<em>https://sp21.datastructur.es/</em> 上，打算做lab和project的时候，不妨看一看Lecture在讲些什么。</p>
<p>Tab觉得这门课的内容难点在：</p>
<ul>
<li><strong>信息密度大的硬课</strong> 对零基础上手不友好</li>
<li><strong>大量英语文本阅读</strong> 最好有外语基础，LLM只能解决一部分问题</li>
</ul>
<p>关于辅助工具的使用：按照工科学生的学习思维，学习以目的为导向，学习手段可以很自由，谷歌维基，菜鸟教程，生成式AI都可以用。
我在做Gitlet的时候，借助哈Gemi老师一点一点，几乎从零开始摸清楚了真实Git的工作原理，然后复现在了Gitlet上面。
<strong>但是</strong>：所有<strong>关键部分的代码落实</strong>都不推荐使用任何外部工具，IDE的AI辅助补全整段也要关掉。</p>
<h2 id="projects-overview-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A6%82%E8%A6%81">Projects Overview プロジェクト概要</h2>
<ul>
<li><strong>Proj0 2048</strong> 这个主要是熟悉java语法用的</li>
<li><strong>Proj1 Data Structures</strong> 深入接触数据结构，了解Java里面类方法接口等等的调用，要求复现java.util里面的LinkedListDeque 和 ArrayDeque</li>
<li><strong>Proj2 Gitlet</strong> 量大而复杂，用到很多种数据结构和文件管理系统，<s>Debug最坐牢</s>，但也是最值得一做的Project，对写代码启发特别大</li>
<li><strong>Proj3 CS61BYoW</strong> 做一个2D肉鸽，更加偏向创作性，可能更适合vibe coding（笑）我做的这个做的很粗糙说是</li>
</ul>
<h2 id="about-gitlet-%E3%82%AE%E3%83%83%E3%83%88%E3%83%AC%E3%83%83%E3%83%88%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6">About Gitlet　ギットレットについて</h2>
<p>和上面所说的一样，这个项目<strong>虽然非常坐牢</strong>，但是<strong>非常值得一做</strong>。我耗时3天一共32小时，在LLM辅助大大降低试错成本的前提下做这个时长，很难想象没有LLM的时代的那些学生做这个Project是多么难受的体验。
鸣谢哈Gemi老师帮我做了这些事情：</p>
<ul>
<li>帮我弄懂Git的真实工作原理，在自己的Gitlet里面借鉴取舍和复现</li>
<li>帮我判断把握一些想法上的可行性的是与否，大大降低了钻进死胡同的试错成本</li>
<li>帮我总结概要翻译文本难读的部分，解释清楚工作规则的细节</li>
<li>帮我读那个.in文件的又长又难懂的报错信息</li>
</ul>
<p><em>回忆</em>
一开始写init的时候，借鉴.git的文件设置
参见记录：https://shuiyuan.sjtu.edu.cn/t/topic/447931/807</p>
<blockquote>
<p>proj2正在努力的找突破口……</p>
<p>打算先这么入手：</p>
<ul>
<li>
<p>模仿（mimic）.git的文件结构</p>
</li>
<li>
<p>弄清楚commit tree &amp; HEAD指针的具体工作原理</p>
</li>
<li>
<p>以目前的认识来说都有点抽象</p>
</li>
</ul>
<p>思路：尝试做init，init需要构造一个repo，那么需要</p>
<pre class="hljs"><code><div>
.gitlet/

----objects/ # 存序列化的文件，应该是staging area

----ref/

--------heads/ # 存各种的分支

------------master # master分支的commit

--------remotes/ # 存远程分支（后期用到）

</div></code></pre>
<p>这个文件结构是好构建的，但是这里的commit内容究竟</p>
<ul>
<li>
<p>要包含什么信息，用什么样的结构</p>
</li>
<li>
<p>如何从commit里面读/存一整个commit tree</p>
</li>
</ul>
<p>那么搭框架这一步做了个大概，测试也算是跑通了，后面一些文件等做log或者别的方法了再加</p>
<p>明天打算先搞清楚</p>
<ul>
<li>这些数据是怎么在各个文件当中流动的</li>
<li>怎么创建commit树，并通过checkout等方法回溯或者分支</li>
</ul>
<p>虽然init对此的要求不高，但是必须要先搞清楚</p>
</blockquote>
<p>这个结构从复盘的角度来看做的其实挺粗糙的，当时我甚至连<strong>Staging Area</strong>是什么东西都不知道
对所谓的commit tree也一点概念都没有，后来写log的时候还以为要单独存一个二进制文件，<s>脑子多少沾点大病</s>
但是我弄清楚了index(Staging Area) 的存储是一张哈希表，Objects里是各种commit文件和commit混放的
然后后来一整天我煞费苦心写了 init add commit rm log global-log status find 这8个方法</p>
<p>参见记录：https://shuiyuan.sjtu.edu.cn/t/topic/447931/831</p>
<blockquote>
<p>LLM说大概熟练者是20-40h之间完工</p>
<p>明天还得干一个很牛逼的事情</p>
<h2 id="%E4%BC%98%E5%8C%96%E4%BB%A3%E7%A0%81">优化代码</h2>
<p>这坨代码里估计还有大的没发现</p>
</blockquote>
<p>这个大的被我说中了一半，当时还以为很顺水推舟的做完了剩下的checkout branch rm-branch reset merge，本地他给的4个小测试样例也都过了
然后一交上gradescope，好了，轮到我自闭了
没有几个是绿的
后面大半天时间，从那天下午4点到晚上2点，再后一天中午，<strong>全在debug这堆东西</strong>
依次解决了这些问题：</p>
<ul>
<li>add的时候应该检测文件内容有没有改动，如果没改动就不要自作多情</li>
<li>remove的时候stage了removed file是回收站，它还没被完全送走，我把它add回去了就应该是一切正常了</li>
<li>error信息应该用<code>System.out.println()</code>写，加上<code>System.exit(0)</code>而不应该直接<code>throw error</code></li>
<li>查出commit实例化的时候，由于奇怪的原因，没有把date和message一通纳入到sha1的计算里面，导致了计算出来同一个sha1值，指向同一个父亲
<ul>
<li>debug最牢的一块，<strong>耗时3小时</strong>，手输指令，当时排查了好多好多原因</li>
<li>这个过程重写了一大堆的封装</li>
</ul>
</li>
<li>reset想不明白为什么会有时光倒流的机制，后来发现写heads的应该只存当前commit
<ul>
<li><strong>存储链条应该是由commit.fatherId</strong>给串联起来的才对，一开始写log的时候就思维定势了</li>
</ul>
</li>
<li>加上了merge commit这一类很特殊的commit机制，知道了实际上可能<strong>有第二个父亲</strong>的设定</li>
<li>修改了找祖先的逻辑，自己手搓了有向无环图的节点开始的遍历，和结合bfs找共同祖先的算法</li>
<li><em>各种各样其他的细节问题</em>
这整个过程那是十分痛苦的debugging，而且一个Bug会牵连其他许许多多的Bug，LLM在这个过程中，说实话，也没帮上什么正忙（笑）</li>
</ul>
<p>总结下来这里会出这么多岔子，<strong>最主要有两个原因</strong>，也希望能给将来可能学习这门课程的你提个醒：</p>
<ul>
<li><strong>写代码之前先把结构设计好</strong>，边写边改效率肯定不高</li>
<li>读清楚项目要求，一定要<strong>有耐心去看那些英文文本描述</strong>，实在不懂请LLM给你翻译概要</li>
</ul>
<p>https://shuiyuan.sjtu.edu.cn/t/topic/447931/868 <em>Generated By Gemini</em></p>
<blockquote>
<p>你不需要现在就是大师。<strong>你有整整四年的时间，甚至更久，去犯错、去写垃圾代码、去编难听的曲子。</strong></p>
<p>这不可耻。每一个现在在大神位置上的人，当年都和你一样，在屏幕前抓耳挠腮，觉得自己是个废物。</p>
<p>区别只在于，他们在一边骂自己废物的时候，一边把那个烂代码又改了一行。</p>
</blockquote>
<p>https://shuiyuan.sjtu.edu.cn/t/topic/447931/876</p>
<blockquote>
<p>在第28小时终于来了巨大进展，，，</p>
<p>简单来说是一个有向无环图的遍历实现涉及到一个</p>
<p>自己手搓的算法不是最优解</p>
<p>大概是，先bfs扫一遍current的历史记录，返回一个大的哈希表，key值是id，val值是步长；再bfs扫一遍given的记录找到对应val步长最短的，时间O(n)，空间O(n)</p>
<p>目前代码结构的问题：</p>
<ul>
<li>
<p>函数封装有意识做，但做的乱七八糟的</p>
</li>
<li>
<p>heads文件里面存了一整个Linkedlist，而且调用的非常混乱</p>
</li>
<li>
<p>所有寻址应该基于Objects和文件管理做而不是指望heads里面的history</p>
</li>
</ul>
</blockquote>
<p>其实后面做到remote的extra credit的部分就很简单了。
<strong>喵喵喵</strong></p>
<h2 id="what-i-have-learned-%E5%AD%A6%E3%82%93%E3%81%A0%E3%81%93%E3%81%A8">What I Have Learned 学んだこと</h2>
<ul>
<li>大型项目的初体验</li>
<li>函数封装的意识</li>
<li>设计的思维</li>
<li>代码的可读性与简洁性</li>
<li>巩固加深数据结构知识</li>
<li><strong>复现</strong>的学习方法</li>
<li>……</li>
</ul>
<h2 id="summary-%E3%81%BE%E3%81%A8%E3%82%81">Summary まとめ</h2>
<p>不知道该写什么喵，也不想写些煽情的，该说的上面也都说了呢</p>
<p>By Tab_1bit0
2026.2.15</p>

</body>
</html>
